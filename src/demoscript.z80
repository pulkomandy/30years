; 30 year Megazord - Shinra Part - Scripting the whole thing
; Copyright 2013, Adrien Destugues <pulkomandy@cpcscene.com>
;
; This program is distributed under the terms of the MIT licence.
	SECTION C5
	GLOBAL PROGRAM

	INCLUDE inc/scripting.i
; -----------------------------------------------------------------------------
; Global program, array of duration (VBL) + pointer to displaylist
; NULL terminated (the demoscript will loop)
mu equ 384
PROGRAM
	dw 478, startpart, do_nothing
	dw 230, credits, do_nothing
	dw 60, last, set_logo_colors
	dw mu, SHR_LOGO, do_nothing
	dw 357, twister, do_nothing
	dw mu*3-357, twister, scrolltext
	dw 216, squares, do_nothing
	dw mu*2 - 216, stable, do_nothing
	dw mu*4, STARS, do_nothing
	dw mu*2, ENDPART, do_nothing
	dw 0

; -----------------------------------------------------------------------------
; Display lists - terminated by a NULL frame

sd	equ 2


squares
	frame e1, t0, sd
	frame e1, t1, sd
	frame e1, t2, sd
	frame e1, t3, sd
	frame e1, t4, sd
	frame e1, t5, sd
	frame e1, t6, sd
	frame e1, t7, sd
	frame e1, t8, sd
	frame e1, t9, sd
	frame e1, tA, sd
	frame e1, tB, sd
	frame e2, tC, sd

	frame e2, t0, sd
	frame e2, t1, sd
	frame e2, t2, sd
	frame e2, t3, sd
	frame e2, t4, sd
	frame e2, t5, sd
	frame e2, t6, sd
	frame e2, t7, sd
	frame e2, t8, sd
	frame e2, t9, sd
	frame e2, tA, sd
	frame e3, tB, sd
	frame e3, tC, sd

	frame e3, t0, sd
	frame e3, t1, sd
	frame e3, t2, sd
	frame e3, t3, sd
	frame e3, t4, sd
	frame e3, t5, sd
	frame e3, t6, sd
	frame e3, t7, sd
	frame e3, t8, sd
	frame e3, t9, sd
	frame e4, tA, sd
	frame e4, tB, sd
	frame e4, tC, sd

	frame e4, t0, sd
	frame e4, t1, sd
	frame e4, t2, sd
	frame e4, t3, sd
	frame e4, t4, sd
	frame e4, t5, sd
	frame e4, t6, sd
	frame e4, t7, sd
	frame e4, t8, sd
	frame e5, t9, sd
	frame e5, tA, sd
	frame e5, tB, sd
	frame e5, tC, sd

	frame e5, t0, sd
	frame e5, t1, sd
	frame e5, t2, sd
	frame e5, t3, sd
	frame e5, t4, sd
	frame e5, t5, sd
	frame e5, t6, sd
	frame e5, t7, sd
	frame e6, t8, sd
	frame e6, t9, sd
	frame e6, tA, sd
	frame e6, tB, sd
	frame e6, tC, sd

	frame e6, t0, sd
	frame e6, t1, sd
	frame e6, t2, sd
	frame e6, t3, sd
	frame e6, t4, sd
	frame e6, t5, sd
	frame e6, t6, sd
	frame e7, t7, sd
	frame e7, t8, sd
	frame e7, t9, sd
	frame e7, tA, sd
	frame e7, tB, sd
	frame e7, tC, sd

	frame e7, t0, sd
	frame e7, t1, sd
	frame e7, t2, sd
	frame e7, t3, sd
	frame e7, t4, sd
	frame e7, t5, sd
	frame e8, t6, sd
	frame e8, t7, sd
	frame e8, t8, sd
	frame e8, t9, sd
	frame e8, tA, sd
	frame e8, tB, sd
	frame e8, tC, sd

	frame e8, t0, sd
	frame e8, t1, sd
	frame e8, t2, sd
	frame e8, t3, sd
	frame e8, t4, sd
	frame e9, t5, sd
	frame e9, t6, sd
	frame e9, t7, sd
	frame e9, t8, sd
	frame e9, t9, sd
	frame e9, tA, sd
	frame e9, tB, sd
	frame e9, tC, sd

	frame e9, t0, sd
	frame e9, t1, sd
	frame e9, t2, sd
	frame e9, t3, sd
stable
	frame eA, t4, sd
	frame eA, t5, sd
	frame eA, t6, sd
	frame eA, t7, sd
	frame eA, t8, sd
	frame eA, t9, sd
	frame eA, tA, sd
	frame eA, tB, sd
	frame eA, tC, sd

	frame eA, t0, sd
	frame eA, t1, sd
	frame eA, t2, sd
	frame eA, t3, sd
	frame

eA
	DW 0x1000+5*0x38 ; square with border
e9
	DW 0x1000+5*0x38 ; square with border
e8
	DW 0x1000+5*0x38 ; square with border
e7
	DW 0x1000+5*0x38 ; square with border
e6
	DW 0x1000+5*0x38 ; square with border
e5
	DW 0x1000+5*0x38 ; square with border
e4
	DW 0x1000+5*0x38 ; square with border
e3
	DW 0x1000+5*0x38 ; square with border
e2
	DW 0x1000+5*0x38 ; square with border
e1
	DW 0x1000+5*0x38 ; square with border

emptysquares
	DW 0x1000+4*0x38
	DW 0x1000+4*0x38
	DW 0x1000+4*0x38
	DW 0x1000+4*0x38
	DW 0x1000+4*0x38
	DW 0x1000+4*0x38
	DW 0x1000+4*0x38
	DW 0x1000+4*0x38
	DW 0x1000+4*0x38


xd	equ 2
; stars !
STARS
	frame stars1,fixed,xd
	frame stars2,fixed,xd
	frame stars3,fixed,xd
	frame stars4,fixed,xd
	frame stars5,fixed,xd
	frame stars6,fixed,xd
	frame stars7,fixed,xd
	frame stars8,fixed,xd
	frame stars9,fixed,xd
	frame stars10,fixed,xd
	frame stars11,fixed,xd
	frame stars12,fixed,xd
	frame stars13,fixed,xd
	frame stars14,fixed,xd
	frame stars15,fixed,xd
	frame stars16,fixed,xd
	frame stars17,fixed,xd
	frame stars18,fixed,xd
	frame

; -----------------------------------------------------------------------------
; CRTC offsets table (what to display for each line)
	if 0
even
odd	equ even-1
	DW 0x3000+28
	DW 0x3038+28
	DW 0x3070+28
	DW 0x30A8+28
	DW 0x30E0+28
	DW 0x3118+28
	DW 0x3150+28
	DW 0x3188+28
	DW 0x31C0+28
	DW 0x31F8+28
	DW 0x3230+28
	DW 0x3268+28
	DW 0x32A0+28
	DW 0x32D8+28
	DW 0x3310+28
	DW 0x3348+28
	DW 0x3380+28
	DW 0x3000+28
	DW 0x3038+28
	DW 0x3070+28
	DW 0x30A8+28
	DW 0x30E0+28
	DW 0x3118+28
	DW 0x3150+28
	DW 0x3188+28
	DW 0x31C0+28
	DW 0x31F8 +28
	DW 0x3230+28
	DW 0x3268+28
	endif

stars1
	DW 0x2000
stars12
	DW 0x2038
stars5
	DW 0x2070
stars16
	DW 0x20A8
stars9
	DW 0x20E0
stars2
	DW 0x2118
stars13
	DW 0x2150
stars6
	DW 0x2188
stars17
	DW 0x21C0
stars10
	DW 0x21F8
stars3
	DW 0x2230
stars14
	DW 0x2268
stars7
	DW 0x22A0
stars18
	DW 0x22D8
stars11
	DW 0x22D8+0x38
stars4
	DW 0x22D8+2*0x38
stars15
	DW 0x22D8+3*0x38
stars8
	DW 0x22D8+4*0x38

	DW 0x2000
	DW 0x2038
	DW 0x2070
	DW 0x20A8
	DW 0x20E0
	DW 0x2118
	DW 0x2150
	DW 0x2188
	DW 0x21C0



; -----------------------------------------------------------------------------
; Color palettes
; 0,    1,    5,    10,   14,   20,   26,   25,   24,   16, 15, 7, 4, 3
; 0x54, 0x44, 0x5D, 0x46, 0x5F, 0x53, 0x4B, 0x43, 0x4A, 0x47, 0x4E, 0x45, 0x58, 0x5C


; palette for the stars effect
fixed 
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B
 DB 0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0x54
 DB 0x54,0x5C,0x5E,0x4E,0x5A,0x49,0x4B


; An horizontally scrolling color palette
t0 DB 0x54, 0x54,0x54,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46
   DB 0x54, 0x54,0x54,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B
t1 DB 0x54, 0x54,0x54,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D
   DB 0x54, 0x54,0x54,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43
t2 DB 0x54, 0x54,0x54,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44
   DB 0x54, 0x54,0x54,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A
t3 DB 0x54, 0x54,0x54,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C
   DB 0x54, 0x54,0x54,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47
t4 DB 0x54, 0x54,0x54,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58
   DB 0x54, 0x54,0x54,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E
t5 DB 0x54, 0x54,0x54,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45
   DB 0x54, 0x54,0x54,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45
t6 DB 0x54, 0x54,0x54,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E
   DB 0x54, 0x54,0x54,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58
t7 DB 0x54, 0x54,0x54,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47
   DB 0x54, 0x54,0x54,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C
t8 DB 0x54, 0x54,0x54,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A
   DB 0x54, 0x54,0x54,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44
t9 DB 0x54, 0x54,0x54,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43
   DB 0x54, 0x54,0x54,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D
tA DB 0x54, 0x54,0x54,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B
   DB 0x54, 0x54,0x54,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46
tB DB 0x54, 0x54,0x54,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53
   DB 0x54, 0x54,0x54,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F
tC DB 0x54, 0x54,0x54,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F

   DB 0x54, 0x54,0x54,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53
   DB 0x54, 0x54,0x54,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46 ;
   DB 0x54, 0x54,0x54,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B
   DB 0x54, 0x54,0x54,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D ;
   DB 0x54, 0x54,0x54,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43
   DB 0x54, 0x54,0x54,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44 ;
   DB 0x54, 0x54,0x54,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A
   DB 0x54, 0x54,0x54,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58,0x5C ;
   DB 0x54, 0x54,0x54,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47

;   DB 0x54, 0x54,0x54,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45,0x58
;   DB 0x54, 0x54,0x54,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E,0x45
;   DB 0x54, 0x54,0x54,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47,0x4E
;   DB 0x54, 0x54,0x54,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A,0x47
;   DB 0x54, 0x54,0x54,0x4A,0x47,0x4E,0x45,0x58,0x5C,0x44,0x5D,0x46,0x5F,0x53,0x4B,0x43,0x4A

